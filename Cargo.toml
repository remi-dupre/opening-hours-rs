[package]
name = "opening-hours"
version = "0.9.0"
authors = ["Rémi Dupré <remi@dupre.io>"]
license = "MIT OR Apache-2.0"
readme = "README.md"
repository = "https://github.com/remi-dupre/opening-hours-rs"
documentation = "https://docs.rs/opening-hours"
homepage = "https://github.com/remi-dupre/opening-hours-rs"
description = "A parser and evaluation tool for the opening_hours fields in OpenStreetMap."
edition = "2021"
exclude = ["dist/"]  # generated by maturin

[workspace]
members = ["compact-calendar", "fuzz", "opening-hours-syntax", "python"]

[features]
# Disable timeout behavior for performance tests. This is useful when tests
# need to be in slow environments or with high overhead, for example when
# measuring coverage.
disable-test-timeouts = []

[dependencies]
compact-calendar = { path = "compact-calendar", version = "0.9.0" }
opening-hours-syntax = { path = "opening-hours-syntax", version = "0.9.0" }
chrono = "0.4"
flate2 = "1.0"
log = { version = "0.4", features = [ "kv" ] }

[build-dependencies]
compact-calendar = { path = "compact-calendar", version = "0.9.0" }
chrono = "0.4"
flate2 = "1.0"

[dev-dependencies]
criterion = "0.5"

[[bench]]
name = "benchmarks"
harness = false

[profile.dev.package.flate2]
opt-level = 3  # build script will run substantially faster for dev

[profile.bench]
codegen-units = 1
lto = "fat"
